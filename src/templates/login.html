{% extends "layout.html" %}

{% block title %} Login {% endblock %}

{% block main %}

<h2 class="title_one">Welcome to JumpIn</h2>
<p></p>
<script async src="https://www.google.com/recaptcha/api.js"></script>
<script>
    function onSubmit(token) {
        document.getElementById("login_form").submit();
    }
</script>
<script src="https://www.google.com/recaptcha/enterprise.js" async defer></script>
<script src="https://www.google.com/recaptcha/enterprise.js?render=6LdJBJonAAAAAAzQynBb8W1WG1FDi2Z5_sKQuhB8"></script>
<script>
    grecaptcha.enterprise.ready(function () {
        grecaptcha.enterprise.execute('6LdREo4lAAAAAJ2KMCtHqwznsgE1yEWfuAiKyjxo', { action: 'login' }).then(function (token) {

        });
    });
</script>
<form id="login_form" action="/login" method="post">
    <div class="mb-3">
        <input autocomplete="off" autofocus class="form-control mx-auto w-auto" id="username" name="username"
            placeholder="Username or Email" type="text">
    </div>
    <div class="mb-3">
        <input class="form-control mx-auto w-auto" id="password" name="password" placeholder="Password" type="password">
    </div>
    <div class="g-recaptcha">
        <button class="g-recaptcha btn btn-primary" data-sitekey="{{ site_key }}" type="submit" data-callback="onSubmit"
            data-action="submit">Log In</button>
    </div>
</form>

<p></p>
<form action="/register" method="get">
    <button class="btn btn-secondary" type="submit">Register</button>
</form>
<p></p>
<form action="/register_gym" method="get">
    <button class="btn btn-secondary" type="submit">Are you a gym owner? Sign up here</button>
</form>
<p></p>
<form action="/login_gym" method="get">
    <button class="btn btn-secondary" type="submit">Are you a gym owner? Log in here</button>
</form>
{% endblock %}